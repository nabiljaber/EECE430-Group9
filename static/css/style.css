/* ====== Base / Layout ==================================================== */
:root{
  --bg:#0b0f14;
  --panel:#0e141b;
  --panel-2:#151c26;
  --ink:#e6e9ef;
  --ink-2:#c3cad5;
  --muted:#9aa4b2;
  --line:#1b2433;
  --line-2:#1a2330;
  --brand:#2962ff;
  --brand-ink:#eaf1ff;
  --accent:#1a2433;
  --danger-bg:#2a0f13;
  --danger-line:#55181f;
  --danger-ink:#ffb4c0;
  --success-bg:#0f2a1a;
  --success-line:#1f5531;
  --success-ink:#b4ffd2;
  --radius:14px;
  --radius-lg:16px;
  --shadow:0 10px 30px rgba(0,0,0,.25);
}

*{box-sizing:border-box}
html,body{height:100%}
body.site{
  background:var(--bg);
  color:var(--ink);
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Ubuntu,Cantarell,"Helvetica Neue",Arial,sans-serif;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Sticky footer layout */
.site { min-height: 100vh; display: flex; flex-direction: column; }
.site-main { flex: 1; }

.container{max-width:1100px;margin:0 auto;padding:0 20px}

/* ====== Header =========================================================== */
.site-header{
  position:sticky; top:0; z-index:50;
  border-bottom:1px solid var(--line-2);
  background:rgba(11,15,20,.6); backdrop-filter:blur(6px);
}
.header-inner{display:flex;align-items:center;justify-content:space-between;height:64px}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none}
.brand-logo{width:28px;height:28px;display:block} /* logo now visible */
.brand-name{font-weight:700;letter-spacing:.2px;color:var(--ink)}
.main-nav a{color:var(--ink-2);margin-left:16px;text-decoration:none}
.main-nav a:hover{color:#fff}
.main-nav .btn{margin-left:12px}

/* ====== Footer =========================================================== */
.site-footer{border-top:1px solid var(--line-2);margin-top:48px}
.footer-inner{display:flex;align-items:center;justify-content:space-between;padding:18px 0}
.muted{color:var(--muted)}

/* ====== Typography & Links ============================================== */
h1,h2,h3{line-height:1.25;margin:0 0 .5rem}
h1{font-size:clamp(1.4rem,2vw,1.8rem)}
h2{font-size:clamp(1.2rem,1.6vw,1.4rem)}
a{color:var(--brand);text-decoration:none}
a:hover{text-decoration:underline}

/* ====== Cards / Grid ===================================================== */
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:16px}
.card{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)}
.card h3{margin:0 0 6px}

/* ====== Buttons ========================================================== */
.btn{
  display:inline-block; padding:10px 16px; border-radius:10px;
  border:1px solid transparent; background:var(--accent); color:var(--ink);
  text-decoration:none; font-weight:600; cursor:pointer; transition:filter .15s ease, transform .02s ease;
}
.btn:hover{filter:brightness(1.1)}
.btn:active{transform:translateY(1px)}
.btn[disabled], .btn:disabled{opacity:.6;cursor:not-allowed}
.btn-primary{background:var(--brand);border-color:var(--brand);color:#fff}
.btn-secondary{background:#1b293b;border-color:#2b384d}
.btn-outline{background:transparent;border-color:#2b384d;color:var(--ink)}
.btn-block{display:block;width:100%;text-align:center}

/* ====== Forms ============================================================ */
form{margin:0}
label{display:block;margin:12px 0 6px;color:var(--ink-2);font-size:14px}
input[type="text"],
input[type="password"],
input[type="email"],
input[type="date"],
input[type="number"],
select, textarea{
  width:100%; padding:10px 12px; color:var(--ink);
  background:var(--bg); border:1px solid #263244; border-radius:10px;
  outline:none; transition:border-color .15s ease, box-shadow .15s ease;
}
select{appearance:none;background-image:linear-gradient(45deg,transparent 50%,var(--muted) 50%),linear-gradient(135deg,var(--muted) 50%,transparent 50%),linear-gradient(to right,transparent,transparent);background-position:calc(100% - 18px) calc(1em + 2px),calc(100% - 13px) calc(1em + 2px),100% 0;background-size:5px 5px,5px 5px,2.5em 2.5em;background-repeat:no-repeat}
input:focus,select:focus,textarea:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgba(41,98,255,.15)}
.helptext{color:var(--muted);font-size:12px;margin-top:6px}
fieldset{border:1px dashed var(--line);border-radius:10px;padding:12px;margin:10px 0}

/* Form layout helpers */
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:700px){.form-row{grid-template-columns:1fr}}

/* ====== Auth Screens ===================================================== */
.auth-wrap{display:grid;place-items:center;min-height:calc(100vh - 64px - 76px);padding:20px}
.auth-card{width:100%;max-width:420px;background:var(--panel);border:1px solid var(--line);border-radius:var(--radius-lg);padding:24px;box-shadow:var(--shadow)}
.auth-title{margin:0 0 14px}
.auth-form .errorlist{margin:8px 0 0 0;padding:0;list-style:none;color:var(--danger-ink);font-size:13px}
.auth-actions{display:flex;align-items:center;justify-content:space-between;margin-top:16px}
.auth-divider{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:12px;margin:18px 0;color:var(--muted);font-size:14px}
.auth-divider::before,.auth-divider::after{content:"";height:1px;background:var(--line)}

/* ====== Alerts / Messages =============================================== */
.alert{padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:var(--panel-2)}
.alert.error{background:var(--danger-bg);border-color:var(--danger-line);color:var(--danger-ink)}
.alert.success{background:var(--success-bg);border-color:var(--success-line);color:var(--success-ink)}

/* ====== Home / Sections ================================================== */
.hero{padding:28px;background:linear-gradient(180deg,rgba(41,98,255,.08),transparent);border:1px solid var(--line);border-radius:var(--radius);margin-bottom:18px}
.hero h1{margin:0 0 6px}

/* ====== Car List / Detail =============================================== */
.list-toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-bottom:12px}
.filters{display:flex;gap:10px;flex-wrap:wrap;align-items:end;margin-bottom:14px}
.price-tag{display:inline-block;padding:4px 8px;border-radius:8px;background:#132035;border:1px solid #20324a;color:#cfe0ff;font-weight:600}
.meta{color:var(--muted);font-size:14px}
.kv{display:grid;grid-template-columns:140px 1fr;gap:8px;margin:10px 0}
.kv div:first-child{color:var(--muted)}
@media (max-width:600px){.kv{grid-template-columns:1fr}}

/* ====== Tables (if used later) ========================================== */
.table{width:100%;border-collapse:separate;border-spacing:0;border:1px solid var(--line);border-radius:12px;overflow:hidden}
.table th,.table td{padding:10px 12px;border-bottom:1px solid var(--line)}
.table th{background:var(--panel-2);text-align:left;color:var(--ink-2)}
.table tr:last-child td{border-bottom:none}

/* ====== Utilities ======================================================== */
.center{text-align:center}
.right{text-align:right}
.space-y > * + *{margin-top:12px}
.mt-2{margin-top:8px} .mt-3{margin-top:12px} .mt-4{margin-top:16px}
.mb-2{margin-bottom:8px} .mb-3{margin-bottom:12px} .mb-4{margin-bottom:16px}

/* ====== Focus-visible for better a11y =================================== */
:focus-visible{outline:2px solid rgba(41,98,255,.6);outline-offset:2px;border-radius:8px}

/* ====== Django default messages (if used) ================================ */
.messages{margin:12px 0}
.messages .success{background:var(--success-bg);border:1px solid var(--success-line);color:var(--success-ink);padding:10px;border-radius:10px}
.messages .error{background:var(--danger-bg);border:1px solid var(--danger-line);color:var(--danger-ink);padding:10px;border-radius:10px}

/* ====== Avatar + user menu ============================================== */
.user-menu { position: relative; display: inline-block; margin-left: 12px; }
.avatar-btn { background: transparent; border: 0; padding: 0; cursor: pointer; }
.avatar { width: 32px; height: 32px; border-radius: 999px; display: grid; place-items: center;
  background: #1b293b; border: 1px solid #2b384d; color: #cfe0ff; font-weight: 700; }
.avatar.sm { width: 28px; height: 28px; font-size: 13px; }

.user-menu .menu {
  position: absolute; right: 0; top: 44px; width: 260px; display: none;
  background: var(--panel); border: 1px solid var(--line); border-radius: 12px;
  box-shadow: var(--shadow); overflow: hidden; z-index: 100;
}
.user-menu .menu.open { display: block; }

.menu-header { display: grid; grid-template-columns: 32px 1fr; gap: 10px; align-items: center;
  padding: 12px 12px; border-bottom: 1px solid var(--line); }
.menu-username { color: var(--ink); font-weight: 600; }
.menu-email { color: var(--muted); font-size: 12px; }

.menu-items { display: grid; padding: 6px; }
.menu-items a { padding: 8px 10px; border-radius: 8px; color: var(--ink-2); text-decoration: none; }
.menu-items a:hover { background: #0b0f14; color: #fff; }
.menu-sep { height: 1px; background: var(--line); margin: 6px 0; }
